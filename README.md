# 会计师事务所智能管理系统

基于React、Next.js和Ant Design构建的会计师事务所智能管理系统，旨在提升会计师事务所的工作效率和管理透明度。

## 版本信息
当前版本：v1.1.0 (2025年4月1日更新)

## 更新日志

### v1.1.0 (2025-04-01)
- **系统整体优化**
  - 优化了左侧导航栏样式，提升用户体验
  - 添加了缓存机制，确保离线或网络不稳定时仍能使用系统核心功能
  - 修复了在网络连接失败时"获取项目列表失败"的提示问题

- **登录/注册功能**
  - 优化了登录页面，同时支持"账号密码登录"和"邮箱验证码登录/注册"两种方式
  - 添加了自动登录和账号记录功能

- **客户管理模块**
  - 完善了客户编辑功能，支持修改客户详细信息
  - 添加了本地缓存存储，确保数据不丢失
  - 优化了客户列表过滤和搜索功能

- **项目管理模块**
  - 修复了项目创建和编辑功能
  - 优化了项目列表显示和过滤

- **文档管理模块**
  - 修复了文档上传过程中的项目关联问题
  - 优化了文件预览功能，支持更多文件类型
  - 完善了文件删除功能
  - 添加了本地缓存机制，防止上传历史丢失

- **报告模块**
  - 修复了模板应用和关联项目功能
  - 添加了AI报告生成的缓存机制
  - 增强了模板管理功能

- **用户管理模块**
  - 改进了用户详情模态框UI
  - 添加了"修改密码"按钮和"刷新二维码"功能
  - 优化了双因素认证的显示和管理

## 项目功能

### 项目管理模块
- 项目流程自动化
- 资源分配看板
- 风险预警系统

### 智能报告生成模块
- AI结构化写作
- 多版本管理
- 合规校验

### 数据与权限管理
- 客户数据池
- 权限分级

### 管理层决策支持
- 实时仪表盘
- 风险热力图

## 技术栈
- **前端框架**：React、Next.js
- **UI库**：Ant Design、Ant Design Pro Components
- **状态管理**：React Query
- **图表可视化**：ECharts
- **开发语言**：TypeScript
- **网络请求**：Axios

## 开发环境设置

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start
```

## 项目结构
```
src/
├── components/    # 可复用组件
├── pages/         # 页面组件
├── hooks/         # 自定义钩子
├── utils/         # 工具函数
├── services/      # API服务
├── assets/        # 静态资源
└── styles/        # 样式文件
```

## 浏览器兼容性
- Chrome (最新版本)
- Firefox (最新版本)
- Edge (最新版本)
- Safari (最新版本)

## 相关文档
- [需求规格说明书](docs/requirements.md)
- [API文档](docs/api.md)
- [用户手册](docs/user-manual.md)

## 系统要求

- Node.js 16.x 或更高版本
- npm 8.x 或更高版本
- 现代浏览器（Chrome、Edge、Firefox最新版本）

## 安装步骤

### 1. 安装必要软件
- 安装 [Node.js](https://nodejs.org/)（包含npm）

### 2. 安装项目依赖
```bash
# 进入项目目录
cd 会计师事务所软件开发

# 安装依赖
npm install
```

### 3. 启动应用
```bash
# 开发模式
npm run dev

# 或生产模式
npm run build
npm start
```

## 访问系统

系统启动后，可以通过以下地址访问：

- 本地访问：http://localhost:3000

## 常见问题

1. **端口被占用**
   - 检查是否有其他程序占用3000端口
   - 可以在package.json中修改启动脚本指定不同端口

2. **依赖安装失败**
   - 尝试使用`npm cache clean --force`清理npm缓存后重试
   - 检查网络连接和npm配置

3. **页面加载异常**
   - 清除浏览器缓存后重试
   - 检查浏览器控制台是否有错误信息

## 离线使用说明

系统已实现关键功能的本地缓存机制，即使在网络不稳定或离线状态下，以下功能仍可正常使用：

- 客户信息的查看和编辑
- 已上传文档的查看
- 项目基本信息查看
- 报告模板的使用

首次使用时需要在联网状态下加载基础数据，之后可在离线状态下继续工作。 